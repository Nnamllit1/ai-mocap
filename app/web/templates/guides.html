{% extends "base.html" %}
{% block content %}
<article class="card">
  <h2>Setup & Calibration Guides</h2>
  <p class="muted">Use these checklists for a clean first-time setup and repeatable calibration runs.</p>

  <section class="wizard">
    <h3>Setup Guide</h3>
    <ol class="wizard-steps">
      <li class="wizard-step"><strong>Need this first:</strong> PC + phone(s) on same Wi-Fi, Python installed, and access to <code>configs/default.yaml</code>.</li>
      <li class="wizard-step">Install dependencies from <code>requirements.txt</code> and check your Portal token in <code>configs/default.yaml</code> (default <code>1234</code>).</li>
      <li class="wizard-step">Start the server with <code>scripts/run_dev.ps1</code>, then open <code>/login</code>. You should see the <strong>Portal Token</strong> form.</li>
      <li class="wizard-step">Log in and open Dashboard. Create camera invite(s), open each link on phone, and tap <strong>Join + Stream</strong>.</li>
      <li class="wizard-step">Open <code>/cameras</code>. You should see your phone camera(s) as connected.</li>
      <li class="wizard-step">Start session and open <code>/preview</code>. You should see active cameras and moving joints.</li>
      <li class="wizard-step"><strong>If stuck:</strong> use detailed setup + troubleshooting in <code>docs/guides/setup.md</code>.</li>
    </ol>
  </section>

  <section class="wizard">
    <h3>Calibration Guide</h3>
    <ol class="wizard-steps">
      <li class="wizard-step">Download checkerboard PDF from Dashboard.</li>
      <li class="wizard-step">Print at 100% scale (disable fit-to-page).</li>
      <li class="wizard-step">Confirm all cameras are connected and stable.</li>
      <li class="wizard-step">Open <code>/calibration</code>, click <strong>Use connected cameras</strong>, then <strong>Start</strong>.</li>
      <li class="wizard-step">Wait until readiness indicators are fully green.</li>
      <li class="wizard-step">Capture diverse board poses: corners, near/far, and tilted angles.</li>
      <li class="wizard-step">Continue until required capture count is reached.</li>
      <li class="wizard-step">Click <strong>Solve</strong> and verify score, rating, and tips.</li>
      <li class="wizard-step">If score is weak, recalibrate with better lighting and broader pose variety.</li>
    </ol>

    <h3>Troubleshooting</h3>
    <ul class="wizard-steps">
      <li class="wizard-step"><code>not_all_cameras_ready</code>: wait for sync/connection, reduce FPS if needed.</li>
      <li class="wizard-step"><code>checkerboard_not_found:&lt;camera_id&gt;</code>: improve visibility, reduce blur, keep board fully in frame.</li>
      <li class="wizard-step"><code>not_enough_captures</code>: continue capturing until minimum is reached.</li>
      <li class="wizard-step">If phone camera access fails on HTTP, follow the browser wizard shown on <code>/join</code>.</li>
    </ul>
  </section>

  <section class="wizard">
    <h3>Blender Live Sync</h3>
    <ol class="wizard-steps">
      <li class="wizard-step">Install add-on file <code>integrations/blender/mocap_live_sync_addon.py</code> in Blender 3.6+.</li>
      <li class="wizard-step">Set runtime <code>osc.host</code>, <code>osc.port</code>, and <code>osc.address_prefix</code> to match Blender add-on settings.</li>
      <li class="wizard-step">In Blender panel <code>View3D &gt; Sidebar &gt; Mocap Live</code>, click <strong>Create Skeleton</strong> then <strong>Start Sync</strong>.</li>
      <li class="wizard-step">See full instructions in <code>docs/guides/blender_live_sync.md</code>.</li>
    </ol>
  </section>
</article>
{% endblock %}
